{% extends 'base.html' %}

{% block title %}HealthOPS Connect{% endblock %}

{% block content %}
<div class="m-5">
    <div class="flex gap-4 justify-center">
        <div class="mb-5">
            <select name="specialization" onchange="window.location.href=this.value"
                class="py-2 px-4 rounded-lg border border-gray-300">
                <option value="" disabled selected>Select Expertise</option>
                <option value="{% url 'home' %}">All</option>
                {% for expertise in expertises %}
                <option value="{% url 'filter_doctor' expertise.slug %}">
                    {{ expertise.name }}</option>
                {% endfor %}
            </select>
        </div>
    </div>


    <div>
        <h2 class="text-2xl font-bold mb-2">Doctors</h2>
        <p class="mb-2">Total Doctors Found: {{ doctors | length }}</p>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            {% for doctor in doctors %}
            <div class="bg-blue-100 p-6 rounded-lg shadow-md text-center">
                <img src="{{ doctor.image.url }}" alt="{{ doctor.user.first_name }}" class="w-1/3 h-auto mb-4 m-auto" />
                <h3 class="text-xl font-bold mb-2">
                    Dr. {{ doctor.user.first_name }} {{ doctor.user.last_name }}
                </h3>
                <p class="text-gray-700 mb-4">
                    {% for designation in doctor.designation.all %}
                    {{designation.name}}{% if not forloop.last %}, {% endif %} {% endfor %}
                </p>
                <p class="text-gray-700 mb-4">Fee: ${{ doctor.fee }}</p>
                <a href="{% url 'doctor_details' doctor.id %}"
                    class="py-1 px-2 rounded-lg text-blue-500 border border-blue-500 hover:bg-blue-500 hover:text-white">View
                    Details</a>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}